<div class="container">
	<br>
	


	<div class="page-header" style="padding-top:20px;">
		<h2 style="font-size:37px">
			{{user.dbData.name}}
		</h2>
	<div>{{user.dbData.email}}</div>
	</div>
	<!-- <div>
		<table class="table table-striped">
			<tbody>
				<tr>
					<td>Name</td>
					<td>{{user.dbData.name}}</td>
				</tr>
				<tr>
					<td>Email</td>
					<td></td>
				</tr>
			</tbody>
		</table>
	</div>
 -->
	<div class="page-header">
		<h2>
			Classes Watching
		</h2>
	</div>

	<style type="text/css">
		.accordion-toggle:after {
		    content: "" !important;
		}
		uib-accordion * {
			outline: 0 !important;
		}

		/*move the padding from the panel-heading to the accordion toggle*/
		/*so clicking anywhere in the heading makes the panel expand and shrink*/
		uib-accordion  .panel-heading {
			cursor: pointer;
		    padding: 0;
		}
		uib-accordion .accordion-toggle {
			padding-left: 15px;
		    padding-right: 15px;
		    padding-top: 10px;
		    padding-bottom: 10px;
		}
		.customClass {
			font-size: 10px
		}
		.customClass > .tooltip-inner {
		    font-size: 14px;
		    min-width: 100px;
		}
		.rightIcon{
			float:right;
			padding-right: 7px;
		}
	</style>

	<uib-accordion close-others="false">
		<uib-accordion-group is-open="isOpen" ng-repeat="class in classes">
			<uib-accordion-heading>

				<span class="glyphicon" ng-class ="isOpen?'glyphicon-chevron-down':'glyphicon-chevron-right'" aria-hidden="true" style="color: gray;"></span>

				{{class.subject}} {{class.classId}}&nbsp;&nbsp;{{class.name}}&nbsp;&nbsp;({{class.termText}})
				
				<span list-icon = 'saved'    toggle="class" class="rightIcon" ></span>
				<span list-icon = 'watching' toggle="class" class="rightIcon" ></span>


			</uib-accordion-heading>

			{{class.desc}}
			<table class="table table-striped" ng-if="class.sections.length>0">
				<thead>
					<tr>
						<th><span uib-tooltip="Course Reference Number" tooltip-class="customClass" tooltip-append-to-body = "true">CRN</span></th>
						<th>Professor</th>
						<th>Start Time</th>
						<th>Open Seats/Total Seats</th>
						<th ng-if="section.hasWaitList">Open Spots/Total Waitlist Spots</th>
						<th>Location</th>
						<th>URL</th>
						<th>Email<br>Notifications</th>
						<th>Saved</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="section in class.sections">
						<td>{{section.crn}}</td>
						<td>
							<span ng-repeat = "prof in section.profs">{{prof}}</span>
						</td>
						<td>{{section.startTimesStrings}}</td>
						<td>{{section.seatsRemaining}}/{{section.seatsCapacity}}</td>
						<td ng-if ="section.hasWaitList">{{section.waitRemaining}}/{{section.waitCapacity}}</td>
						
						<td>
							<span ng-repeat = "location in section.locations">{{location}}</span>
						</td>

						<td><a href="{{section.url}}" target="_blank">View on {{section.host}}</a></td>

						<td>
						<span  list-icon = 'watching' toggle="section" ></span>
						</td>

						<td>
						<span  list-icon = 'saved' toggle="section" ></span>
						</td>
					</tr>
				</tbody>
			</table>
			<div ng-if="class.sections.length==0">
				<br>No sections found
			</div>
		</uib-accordion-group>
	</uib-accordion>
</div>
