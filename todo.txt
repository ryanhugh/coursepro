!!!!




dont duplicate loading states

is any page data starting data set database anymore? if not remove it from pagedata constructor

	if (this.dbData.deps) {
	  console.log('error process already ran????',this.deps,this.dbData.deps)
	}
this runs because dbData is loaded from cache which populates dbData...




error, loaded from db and there is already data in the pagedata?? { originalData:

is happening because everything is loaded reursivly, then processed



isupdatedByParent -> isStartingPoint (default no, )


convert the json tests to html and put the url in the code
parseForm tests assert count?

base parser find dep with fields()



//pretty sure this is done
id also say change it back to just deps: and add a loadDependencyChain() and then just search through deps for matching title
- and add the class data to the other classes

and

deps need to be processed before parent is processed so that when the parent hits the page it knows which dep to update -> load all, then parse all
instead of adding more deps (which it does currently)
and load classes: somehow -- nope



different names:
if eclass has name, only parse those with name
pagedatamgr.createFromParser - give desc




//convert the uri json to this
uri.setSearch({ foo: "bar", goodbye : ["world", "mars"] });
// uri == "?hello=mars&foo=bar&goodbye=world&goodbye=mars"


put spider into all separate ellucian files??/




add optional terms for parsers, and if dont have 50%, complain


birmham limits results to 350, fix this, and dosent have a class page?????



pretty case on where
https://www2.augustatech.edu/pls/ban8/bwckschd.p_disp_detail_sched?term_in=201514&crn_in=10585



sections with different names?!?!
-- also have different prerequs...
https://myswat.swarthmore.edu/pls/bwckctlg.p_disp_listcrse?term_in=201502&subj_in=PHYS&crse_in=013&schd_in=%
https://genisys.regent.edu/pls/prod/bwckctlg.p_disp_listcrse?term_in=201540&subj_in=LAW&crse_in=575&schd_in=%25





FRONTEND:
have an array of examples on script.js



POINTER:
array of user agents for baseParser.js
sometimes add other headers and pull from array of user agents


TODO:
add domain and course type (MATH, etc) and type description??? and term (actuall term, not the url thing - this can replace year) to baseparser, abstract or use the same code that is in collegenames.js

scraper.js

frontend





make sure times are parsed correcly here
https://www2.augustatech.edu/pls/ban8/bwckctlg.p_disp_listcrse?term_in=201612&subj_in=ALHS&crse_in=1127&schd_in=C



LATER BUGS:



PARSERS


https://banners.presby.edu/prod/hzskschd.P_ViewSchedule
uses an old version of the site - different parser needed (easy to write, add later)



BASEPARSER.JS
https://bappas2.gram.edu:9000/pls/gram/bwckctlg.p_disp_dyn_ctlg
nodejs cant access a https over non standard port???
effcts: needle, https, requests, xmlhttprequest
works in python and in the browser (chrome)
use eff.org to test
update: could access localhost on port 8443 which forwarded from eff.org 443 (so non port 443 works, maybe something wierd with this site+nodejs?) (double check this on remote server)





// ---- collegenames.js ----
regex used for main hostname will fail on google.com.uk (in pointer)

titleCase will replace all on \w with a space.... (Texas A&M University -> Texas A M University)
Saint Joseph S University

fallback to hittitle if dns fails



DONE



multiple profs
https://bannerweb.upstate.edu/isis/bwckctlg.p_disp_listcrse?term_in=201610&subj_in=FAMP&crse_in=1650&schd_in=9


parse EECE abbr from search page

pre and co reqs and restrictions -- test!! --seems to be working test more
https://oscar.gatech.edu/pls/bprod/bwckschd.p_disp_detail_sched?term_in=201508&crn_in=90660
https://bannerweb.upstate.edu/isis/bwckschd.p_disp_detail_sched?term_in=201580&crn_in=83848

{type:and,values:[{values:[1,2],type:or}]}


log responce code when it fails -- done, test


move prerequs to the class and make catalog on depend on all % and have prerequs be classes --done, test





https://telaris.wlu.ca/ssb_prod/bwckctlg.p_disp_listcrse?term_in=201601&subj_in=MU&crse_in=296&schd_in=%25
baseparser.parsetable the body row is 1 less than the main row


 --- THIS IS NOT A SECTION, not a bug
https://telaris.wlu.ca/ssb_prod/bwckctlg.p_disp_listcrse?term_in=201505&subj_in=BE&crse_in=100W&schd_in=%25
class table is outside of details box, but it hit category view and its a differnt ver num at the bottom???
- should i parse this??, yes, there are ppl signed up here https://telaris.wlu.ca/ssb_prod/bwckschd.p_disp_detail_sched?term_in=201601&crn_in=2900


store class name in class, not section


almost working, need to parse things that arnt linked
https://www2.augustatech.edu/pls/ban8/bwckschd.p_disp_detail_sched?term_in=201516&crn_in=10483

