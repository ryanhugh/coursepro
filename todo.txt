!!!!

https://coursepro.io/#/graph/clemson.edu/201601/AVS/2060
class requires a lower class and the lower classes's lab, which shows the lower class and its lab twice

TO TEST
updater not running when spider running

TODO SOON
update the all npm packages
post on other pages with examples

add lastUpdateTime to server - for this to work for terms + subjects, need to copy lastUPdateTIme from parent to children in db (and rerun scrapers)
and add it to collegeNames somehow (and add the ids for the neu.edu/law)



ROADMAP
share link
login with google
need to implement an unsubscribe feature, create a subscriptionsKey that is emailed to user and allows control over subscriptions settings
if login key but server says no user delete login key
on startup, loop through users data and make sure each row is at minimum the default data


LONG ROAD MAP
node on non 443?
trace surveys
student reviews of classes
add textbook data


ODD BUGS
https://coursepro.io/#/graph/clemson.edu/201601/AVS/2060
class requires a lower class and the lower classes's lab, which shows the lower class and its lab twice


in the pageData async processing deps, if one fails, the main callback is called before the others are done because thats how async map handels errors
updated 0 classes [] is running in the background of spider

change name?
courseboard.io





LATEST POST 

Just made a site that makes it really easy to organize classes at Clemson! Check out CoursePro.io!

http://coursepro.io

Hey! The site shows a bunch of stuf


It's a site I made over the last c months! It shows class prerequisites, corequisites, class description, section data, and more!
Let me know whatcha think!! Totally open to ideas/tweaks/etc
clemson has subject id in subject text (dont show subject id twice in selectors (if stubject etxt starts with id...))







to detect mailinator: nslookup for 23.239.11.30 (most of their alts) or 45.33.81.172 (mailinator.com)











lift up the boxes
http://localhost/#neu.edu/201630/CS/5310

for the ones that don't have data, put an error or warning or something "No data on neu.edu about this class :/"


any bugs in safari?

a 2500 (hon) should just bring up the (hon) and non hon should just bring up non-hon


settings:
-- hide/show/both (hon)
-- hide broken classes (classes that don't exist in the db but are listed as a prereq)
-- hide classes with no sections
-- maximum number of classes (419 just too much...)
-- depth max
-- ignore graduate classes?
later:
-- d3 vs wide mode?
-- render up and down/ or just down or just up



buttons:
-- update/refresh, that get server to update the data
-- star
-- notify
-- check mark for have taken this class


star
 -- default goes to stared courses





does it work in firefox? 
- stiky note for classes could take
- odd that tooltips went away, then confused what lines meant
 -- help icon in top right?
- ignore all graduate classes?
- hide broken classes (like all the classes that make that warning appear)
-- gear icon with options for ^


remove classes that dont have any sections from the dropdown menu
make it so just the x closes the box

idea for future - browse classes (someone type in what they are intrested in and show big list of descriptions, but only if they are sections)


IDEA - localhost#/neu.edu/latest/CS/4800

bugged - shouldnt show fundies 2
http://localhost/#sju.edu/201540/CSC/680

tree is 419 big
http://localhost/#neu.edu/201630/CHEM/5622


overall todo:
refactor frontend
angular?
payments


names to fix:


for unit test:
etc maybe \w+\d


get list of nodes sorted by allParents.length
also, below vv solve
would mg=mg work?

remove the node (branch) if it is on the top - both stuff like fundies and search --- 
there could be cases where:
a -> b or c
d -> (b or c) and (i or p)
so now there is two nodes beneth d, and need to bring a to that
ex: http://localhost/#neu.edu/201610/EECE/4792


add cache control to the js and index, and on error do window.location.reload(), which loads everything again


http://localhost/#neu.edu/201610/EEMB/2616
crashes things in multi-parent



http://localhost/#neu.edu/201610/NRSG/4995
has some trees that are not fully simplified

supercache to load all CS classes when asked to load all CS4400

treeMgr.js tell server how many nodes loaded when requested a tree

homepage:
- add a css minifyer to gulp




save ip addr range in collegeNames.db, and get that from whois 155.33.x.x

college saved in localstorage

can choose % on the left and right instead of px? this would make resize work
merge seans


mobile version
only mobile bug now is when render big page, select.js dropdown is set distance from right of page...(when scrolling stays off right side of page)




how much work would it take to make .hidden not need a dummy div?
-----------tests:
if a panel has a lot of coreqs, does it overlapp with the above panel? rn its just a static padding
test - do any panels overlap that are not coreqs of the same class, or with coreqs class of a given class

is it safe to remove all loading status ==0? how many trees does this affect? how many trees produce erros atm?
tree.allParents.forEach(function(parentTree){
				
				
				if (parentTree.values) {
					_.pull(parentTree.values,tree)
				}
				if (parentTree.coreqs) {
					_.pull(parentTree.coreqs.values,tree)
				}
				
			}.bind(this))
			return;
		}


quick fixes: add padding on the right, add error msg when there is no data and some padding between panels when only 1 prereq and prereq has coreq, eg the
pic ng sent


for tree render thing, make a list of all panels at that level
for each one:
	1. find avg of parent panel's indexes
	2. sort list by the avg index



talk to register or not
schedual builder - wake up at 10, etc
make it pretty!! for newbs


ask for ppl taking classes, then who didnt get perfect


todo next:
explination on landing page
open up last viewed page when opening site

when refactor frontend, switch to stack instead of recursion?

merge coreq prereqs with class prereqs


when doing star, need some way to differentiate between hon and non hon for same host/termId/subject/classId


--scrape the hon attribute for hon classes
--if class is hon and hon coreqs exist, only match those
--else match all
--if class is not hon only match non hon


frontend small things
spring 2015 SPAN 003 has no desc?


does it support multiple )) ? https://wl11gp.neu.edu/udcprod8/bwckctlg.p_disp_course_detail?cat_term_in=201615&subj_code_in=BTC&crse_numb_in=6213

if catalog credits is a range, and the section is in the range, dont override https://wl11gp.neu.edu/udcprod8/bwckschd.p_disp_detail_sched?term_in=201560&crn_in=60983


MEDIUM TERM:
0 - if a page is removed, deps will not update?
0.5 - make databases optional
https://myswat.swarthmore.edu/pls/bwckctlg.p_disp_listcrse?term_in=201504&subj_in=CPSC&crse_in=081&schd_in=% is not parsed correctly :(
1. scrape credits from catalog page so have if no sections
2. dont send the cntrollers to the client
host: "swarthmore.edu"
termId: "201502"
url: "https://myswat.swarthmore.edu/pls/bwckgens.p_proc_term_date"
pull req on select2 option = document.createElement('option');

      if (option.textContent !== undefined) {
        option.innerHTML = data.text;
      } else {
        option.innerHTML = data.text;
      }
    }

    a="International Study&#8313;argentina"


3. copy desc from other sections and why do some have same name in same term?
if there are no sections in an entire subject, remove the subject. and if no sections for entire term, remove term and log something
and if no sections for entire college!?! log big warning
4. "linear algebra" in swath is there 4 times, but only 1 has desc?? - this is because it has a - in the title, which is interprited as a divider...

5. more asserts

6. - use the longer value for pre and co reqs if they are not the same between section and have same name
7. - remove duplicates from single list in prereqs (probably not going to happen ) - add this before simplify

9. base parser find dep with fields() -- find an existing pagedata.deps by a given fields, and if not exist, make one

10. array of user agents for pointer + some random data?

11. fallback to hittitle if dns fails

12. add optional terms for parsers, and if dont have 50%, complain

13. https://github.com/winstonjs/winston#using-the-default-logger



FUTURE:
user accounts -> workplace without prereqs
 - was overridden for class
 - public reviews?
 - private notes?
scrape trace?
perma cache all old terms in localStorage
scrape rate my prof
email sign up when spots open up
courseoff merge
far future: dashboard


BEFORE PUBLIC:
remove login info from emailmgr.js
minify js
remove sending any internal error to client



if selector is hidden, and then comes back, and same option is selected, callback() not called

some classes dont have crns?
should store crns?




assert subject deps
split up the asserts from deepequal...
addDep() is called everywhere withough checking to see if the dep exists already?

needs to get more of desc than just More theoretical, abstract, and rigorous than

make list of where others need to include certian elements and warn if 1<x<50
dont include credit hours "https://myswat.swarthmore.edu/pls/bwckctlg.p_disp_listcrse?term_in=201504&subj_in=MATH&crse_in=056&schd_in=%25"





//pretty sure this is done
id also say change it back to just deps: and add a loadDependencyChain() and then just search through deps for matching title
- and add the class data to the other classes

and

deps need to be processed before parent is processed so that when the parent hits the page it knows which dep to update -> load all, then parse all
instead of adding more deps (which it does currently)
and load classes: somehow -- nope





//convert the uri json to this
uri.setSearch({ foo: "bar", goodbye : ["world", "mars"] });
// uri == "?hello=mars&foo=bar&goodbye=world&goodbye=mars"









FRONTEND:
have an array of examples on script.js





TODO:
add domain and course type (MATH, etc) and type description??? and term (actuall term, not the url thing - this can replace year) to baseparser, abstract or use the same code that is in collegenames.js

scraper.js

frontend





make sure times are parsed correcly here
https://www2.augustatech.edu/pls/ban8/bwckctlg.p_disp_listcrse?term_in=201612&subj_in=ALHS&crse_in=1127&schd_in=C



LATER BUGS:



PARSERS


https://banners.presby.edu/prod/hzskschd.P_ViewSchedule
uses an old version of the site - different parser needed (easy to write, add later)



BASEPARSER.JS
https://bappas2.gram.edu:9000/pls/gram/bwckctlg.p_disp_dyn_ctlg
nodejs cant access a https over non standard port???
effcts: needle, https, requests, xmlhttprequest
works in python and in the browser (chrome)
use eff.org to test
update: could access localhost on port 8443 which forwarded from eff.org 443 (so non port 443 works, maybe something wierd with this site+nodejs?) (double check this on remote server)



